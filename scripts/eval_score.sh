MODEL_NAMES=("name of models to evaluate")

if [ -z "$1" ]; then
    echo "Error: Log file path is required."
    echo "Usage: $0 <log_file_path>"
    exit 1
fi
echo "Log file path: $1"

LOG_FILE="$1"

rm -rf $LOG_FILE

exec > >(tee -a "$LOG_FILE") 2>&1

for MODEL_NAME in "${MODEL_NAMES[@]}"; do
    echo "############################################"
    python -B evaluator/eval/index_final.py \
        --test_data_path="test data path" \
        --model_name=$MODEL_NAME \
        --gen_code_dir="dir of the code generated by the target model" \
        --gen_img_dir="dir of screenshots of the generated code" &
    wait $!
    if [ $? -ne 0 ]; then
        echo "Error: Evaluating failed for $MODEL_NAME."
        exit 1
    fi
    echo "Evaluating completed for $MODEL_NAME."
done

echo "All done!"
